Table organizations {
  id integer [primary key, increment]
  name varchar [not null]
  email varchar [unique, not null]
  phone varchar
  address text
  is_active boolean [default: true]
  created_at timestamp [default: `now()`]
}

Table users {
  id integer [primary key, increment]
  organization_id integer [ref: > organizations.id, not null]
  name varchar [not null]
  email varchar [unique, not null]
  phone varchar
  role varchar [not null, note: 'admin, manager, staff, client']
  is_active boolean [default: true]
  created_at timestamp [default: `now()`]
}

Table services {
  id integer [primary key, increment]
  organization_id integer [ref: > organizations.id, not null]
  name varchar [not null]
  description text
  duration integer [note: 'minutes']
  price decimal(10,2)
  is_active boolean [default: true]
  created_at timestamp [default: `now()`]
}

Table appointments {
  id integer [primary key, increment]
  organization_id integer [ref: > organizations.id, not null]
  client_id integer [ref: > users.id, not null]
  staff_id integer [ref: > users.id, not null]
  service_id integer [ref: > services.id, not null]
  appointment_date timestamp [not null]
  status varchar [default: 'scheduled', note: 'scheduled, completed, cancelled, no_show']
  notes text
  created_at timestamp [default: `now()`]
}

Table payments {
  id integer [primary key, increment]
  organization_id integer [ref: > organizations.id, not null]
  appointment_id integer [ref: > appointments.id, not null]
  amount decimal(10,2) [not null]
  payment_method varchar [note: 'cash, card, online']
  status varchar [default: 'pending', note: 'pending, completed, failed, refunded']
  created_at timestamp [default: `now()`]
}